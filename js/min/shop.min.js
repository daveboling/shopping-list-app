$(document).ready(function(){function t(){var t=0;$(".list .listItem .itemTotal").each(function(){t+=+$(this).text()}),$("#allItemTotals").text(t)}$(".bxslider").bxSlider({infiniteLoop:!1}),$("#helpToggle").closest(".container").find(".slideDown").toggle(),$("#helpToggle").on("click",function(){$(this).closest(".container").find(".slideDown").slideToggle("slow")});var e=$("#item"),i=$("#quantity"),s=$("#price"),l=($(".editable"),$("#add")),n=($(".editable"),$(".edit"),$(".delete"),$(".list"));i.numeric(),s.numeric(),$(l).on("click",function(){var l=s.val()*i.val();""===e.val()||""===i.val()?$(".error").fadeIn(400):($(".error").hide(),n.append('<div class="listItem"> <div class="itemType"><span class="type">'+e.val()+'</span><input class="editable" input="text"></div><div class="itemPrice"><span class="num">'+s.val()+'</span><input class="editable" input="text"></div><div class="itemQuantity"><span class="quant">'+i.val()+'</span><input class="editable" input="text"></div><div class="itemTotal">'+l+'</div><div class="delete">Delete</div><div class="edit">Edit</div><div class="save">Save</div></div>')),e.val(""),t()}),$(document).on("keypress",function(t){13==t.which&&$(l).click()}),$(document).on("click",".delete",function(){$(this).closest(".listItem").queue(function(){$(this).find(".itemType").css("text-decoration","line-through"),$(this).dequeue()}).queue(function(){$(this).fadeOut(500),$(this).dequeue()}).queue(function(){$(this).remove(),$(this).dequeue(),t()})}),$(document).on("click",".edit",function(){$(this).closest(".listItem").find(".edit").hide(),$(this).closest(".listItem").find(".delete").hide(),$(this).closest(".listItem").find(".save").show(),$(this).closest(".listItem").unbind("mouseenter"),$(this).closest(".listItem").unbind("mouseenter");var t=+$(this).closest(".listItem").find(".num").text(),e=+$(this).closest(".listItem").find(".quant").text(),i=$(this).closest(".listItem").find(".type").text();$(this).closest(".listItem").find(".num").text(""),$(this).closest(".listItem").find(".quant").text(""),$(this).closest(".listItem").find(".type").text(""),$(this).closest(".listItem").children(".itemPrice").find(".editable").val(t).show(),$(this).closest(".listItem").children(".itemPrice").find(".editable").numeric(),$(this).closest(".listItem").children(".itemQuantity").find(".editable").val(e).show(),$(this).closest(".listItem").children(".itemQuantity").find(".editable").numeric(),$(this).closest(".listItem").children(".itemType").find(".editable").val(i).show()}),$(document).on("click",".save",function(){$(this).closest(".listItem").find(".editable").hide(),$(this).closest(".listItem").bind("mouseenter",function(){$(this).closest(".listItem").find(".edit").show()}).mouseleave(function(){$(this).closest(".listItem").find(".edit").hide()}),$(this).closest(".listItem").bind("mouseenter",function(){$(this).closest(".listItem").find(".delete").show()}).mouseleave(function(){$(this).closest(".listItem").find(".delete").hide()}),$(this).closest(".listItem").find(".save").hide();var e=$(this).closest(".listItem").find(".itemPrice input").change(),i=$(this).closest(".listItem").find(".itemQuantity input").change(),s=$(this).closest(".listItem").find(".itemType input").change(),l=(+$(this).closest(".listItem").find(".itemTotal").text(),e.val()*i.val());$(this).closest(".listItem").find(".num").text(e.val()),$(this).closest(".listItem").find(".quant").text(i.val()),$(this).closest(".listItem").find(".itemTotal").html(l),$(this).closest(".listItem").find(".type").text(s.val()),t()}),t()});